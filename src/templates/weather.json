{
  "name": "Weather Widget",
  "description": "Display current weather information",
  "category": "Information",
  "html": "<div class=\"weather-widget\">\n    <div class=\"weather-header\">\n        <div class=\"weather-location\" id=\"location\">Loading...</div>\n        <div class=\"weather-refresh\" onclick=\"refreshWeather()\">ğŸ”„</div>\n    </div>\n    <div class=\"weather-main\">\n        <div class=\"weather-icon\" id=\"weather-icon\">â˜€ï¸</div>\n        <div class=\"weather-temp\" id=\"temperature\">--Â°</div>\n    </div>\n    <div class=\"weather-details\">\n        <div class=\"weather-desc\" id=\"description\">Loading...</div>\n        <div class=\"weather-info\">\n            <span id=\"humidity\">Humidity: --%</span>\n            <span id=\"wind\">Wind: -- km/h</span>\n        </div>\n    </div>\n    <div class=\"weather-settings\">\n        <button onclick=\"toggleSettings()\" class=\"settings-btn\">âš™ï¸</button>\n        <div id=\"settings-panel\" class=\"settings-panel\" style=\"display: none;\">\n            <input type=\"text\" id=\"city-input\" placeholder=\"City name\" class=\"city-input\">\n            <button onclick=\"saveSettings()\" class=\"save-btn\">Save</button>\n        </div>\n    </div>\n</div>",
  "css": ".weather-widget {\n    background: linear-gradient(135deg, #74b9ff, #0984e3);\n    border-radius: 15px;\n    padding: 20px;\n    color: white;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n    min-width: 200px;\n    position: relative;\n}\n\n.weather-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n}\n\n.weather-location {\n    font-weight: bold;\n    font-size: 16px;\n}\n\n.weather-refresh {\n    cursor: pointer;\n    font-size: 18px;\n    opacity: 0.8;\n    transition: opacity 0.2s;\n}\n\n.weather-refresh:hover {\n    opacity: 1;\n}\n\n.weather-main {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 15px;\n}\n\n.weather-icon {\n    font-size: 48px;\n    margin-right: 15px;\n}\n\n.weather-temp {\n    font-size: 36px;\n    font-weight: bold;\n}\n\n.weather-desc {\n    text-align: center;\n    font-size: 14px;\n    margin-bottom: 10px;\n    text-transform: capitalize;\n}\n\n.weather-info {\n    display: flex;\n    justify-content: space-between;\n    font-size: 12px;\n    opacity: 0.9;\n}\n\n.weather-settings {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n}\n\n.settings-btn {\n    background: rgba(255, 255, 255, 0.2);\n    border: none;\n    border-radius: 4px;\n    padding: 4px;\n    cursor: pointer;\n    font-size: 14px;\n}\n\n.settings-btn:hover {\n    background: rgba(255, 255, 255, 0.3);\n}\n\n.settings-panel {\n    position: absolute;\n    top: 30px;\n    right: 0;\n    background: rgba(0, 0, 0, 0.9);\n    border-radius: 8px;\n    padding: 10px;\n    min-width: 200px;\n    z-index: 1000;\n}\n\n.api-input, .city-input {\n    width: 100%;\n    padding: 6px;\n    margin-bottom: 8px;\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    border-radius: 4px;\n    background: rgba(255, 255, 255, 0.1);\n    color: white;\n    font-size: 12px;\n}\n\n.api-input::placeholder, .city-input::placeholder {\n    color: rgba(255, 255, 255, 0.6);\n}\n\n.save-btn {\n    width: 100%;\n    padding: 6px;\n    background: #00b894;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 12px;\n}\n\n.save-btn:hover {\n    background: #00a885;\n}",
  "js": "// Weather Widget with Open-Meteo API (no API key required)\nlet weatherCity = localStorage.getItem('weather-city') || 'London';\nlet weatherInterval;\n\n// Weather icon mapping for Open-Meteo weather codes\nconst weatherIcons = {\n    0: 'â˜€ï¸',  // Clear sky\n    1: 'ğŸŒ¤ï¸',  // Mainly clear\n    2: 'â›…',  // Partly cloudy\n    3: 'â˜ï¸',  // Overcast\n    45: 'ğŸŒ«ï¸', // Fog\n    48: 'ğŸŒ«ï¸', // Depositing rime fog\n    51: 'ğŸŒ¦ï¸', // Drizzle: Light\n    53: 'ğŸŒ¦ï¸', // Drizzle: Moderate\n    55: 'ğŸŒ¦ï¸', // Drizzle: Dense\n    56: 'ğŸŒ§ï¸', // Freezing Drizzle: Light\n    57: 'ğŸŒ§ï¸', // Freezing Drizzle: Dense\n    61: 'ğŸŒ§ï¸', // Rain: Slight\n    63: 'ğŸŒ§ï¸', // Rain: Moderate\n    65: 'ğŸŒ§ï¸', // Rain: Heavy\n    66: 'ğŸŒ¨ï¸', // Freezing Rain: Light\n    67: 'ğŸŒ¨ï¸', // Freezing Rain: Heavy\n    71: 'â„ï¸', // Snow fall: Slight\n    73: 'â„ï¸', // Snow fall: Moderate\n    75: 'â„ï¸', // Snow fall: Heavy\n    77: 'ğŸŒ¨ï¸', // Snow grains\n    80: 'ğŸŒ¦ï¸', // Showers: Slight\n    81: 'ğŸŒ¦ï¸', // Showers: Moderate\n    82: 'ğŸŒ¦ï¸', // Showers: Violent\n    85: 'â›ˆï¸', // Thunderstorm: Slight\n    86: 'â›ˆï¸', // Thunderstorm: Heavy\n    95: 'â›ˆï¸', // Thunderstorm: Slight or moderate\n    96: 'â›ˆï¸', // Thunderstorm with slight hail\n    99: 'â›ˆï¸'  // Thunderstorm with heavy hail\n};\n\n// Weather description mapping\nconst weatherDescriptions = {\n    0: 'Clear sky',\n    1: 'Mainly clear',\n    2: 'Partly cloudy',\n    3: 'Overcast',\n    45: 'Fog',\n    48: 'Depositing rime fog',\n    51: 'Light drizzle',\n    53: 'Moderate drizzle',\n    55: 'Dense drizzle',\n    56: 'Light freezing drizzle',\n    57: 'Dense freezing drizzle',\n    61: 'Light rain',\n    63: 'Moderate rain',\n    65: 'Heavy rain',\n    66: 'Light freezing rain',\n    67: 'Heavy freezing rain',\n    71: 'Light snow',\n    73: 'Moderate snow',\n    75: 'Heavy snow',\n    77: 'Snow grains',\n    80: 'Light showers',\n    81: 'Moderate showers',\n    82: 'Violent showers',\n    85: 'Slight thunderstorm',\n    86: 'Heavy thunderstorm',\n    95: 'Thunderstorm',\n    96: 'Thunderstorm with hail',\n    99: 'Thunderstorm with heavy hail'\n};\n\nasync function fetchWeather() {\n    try {\n        // First, get coordinates for the city using Open-Meteo geocoding API\n        const geoResponse = await fetch(\n            `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(weatherCity)}&count=1&language=en`\n        );\n        \n        if (!geoResponse.ok) {\n            throw new Error('Geocoding failed');\n        }\n        \n        const geoData = await geoResponse.json();\n        \n        if (!geoData.results || geoData.results.length === 0) {\n            showWeatherError('City not found');\n            return;\n        }\n        \n        const { latitude, longitude, name, country } = geoData.results[0];\n        \n        // Then fetch weather data using coordinates\n        const weatherResponse = await fetch(\n            `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&hourly=relativehumidity_2m,windspeed_10m`\n        );\n        \n        if (!weatherResponse.ok) {\n            throw new Error('Weather fetch failed');\n        }\n        \n        const weatherData = await weatherResponse.json();\n        updateWeatherDisplay(weatherData, name, country);\n    } catch (error) {\n        console.error('Weather fetch error:', error);\n        showWeatherError('Failed to fetch weather');\n    }\n}\n\nfunction updateWeatherDisplay(data, cityName, country) {\n    const current = data.current_weather;\n    const hourly = data.hourly;\n    \n    // Get current hour index for humidity and wind\n    const now = new Date();\n    const currentHour = now.getHours();\n    \n    document.getElementById('location').textContent = `${cityName}, ${country}`;\n    document.getElementById('temperature').textContent = `${Math.round(current.temperature)}Â°C`;\n    document.getElementById('description').textContent = weatherDescriptions[current.weathercode] || 'Unknown';\n    document.getElementById('humidity').textContent = `Humidity: ${hourly.relativehumidity_2m[currentHour]}%`;\n    document.getElementById('wind').textContent = `Wind: ${Math.round(hourly.windspeed_10m[currentHour])} km/h`;\n    \n    const iconCode = current.weathercode;\n    document.getElementById('weather-icon').textContent = weatherIcons[iconCode] || 'ğŸŒ¤ï¸';\n}\n\nfunction showWeatherError(message) {\n    document.getElementById('location').textContent = 'Error';\n    document.getElementById('temperature').textContent = '--Â°';\n    document.getElementById('description').textContent = message;\n    document.getElementById('humidity').textContent = 'Humidity: --%';\n    document.getElementById('wind').textContent = 'Wind: -- km/h';\n    document.getElementById('weather-icon').textContent = 'âš ï¸';\n}\n\nfunction refreshWeather() {\n    fetchWeather();\n}\n\nfunction toggleSettings() {\n    const panel = document.getElementById('settings-panel');\n    const isVisible = panel.style.display !== 'none';\n    panel.style.display = isVisible ? 'none' : 'block';\n    \n    if (!isVisible) {\n        document.getElementById('city-input').value = weatherCity;\n    }\n}\n\nfunction saveSettings() {\n    const newCity = document.getElementById('city-input').value.trim();\n    \n    if (newCity) {\n        weatherCity = newCity;\n        localStorage.setItem('weather-city', newCity);\n    }\n    \n    toggleSettings();\n    refreshWeather();\n}\n\n// Initialize weather widget\nfunction initWeather() {\n    fetchWeather();\n    // Refresh every 30 minutes\n    weatherInterval = setInterval(fetchWeather, 30 * 60 * 1000);\n}\n\n// Start the weather widget\ninitWeather();",
  "width": 250,
  "height": 180,
  "opacity": 100,
  "alwaysOnTop": true,
  "transparent": true,
  "x": 1000,
  "y": 100,
  "autoStart": false
}
