{
  "name": "System Monitor",
  "description": "Display CPU, memory, and disk usage",
  "category": "System",
  "html": "<div class=\"system-monitor\">\n    <div class=\"monitor-header\">\n        <span>üñ•Ô∏è System Monitor</span>\n        <button onclick=\"refreshSystem()\" class=\"refresh-btn\">üîÑ</button>\n    </div>\n    \n    <div class=\"monitor-item\">\n        <div class=\"monitor-label\">\n            <span>CPU</span>\n            <span id=\"cpu-temp\" style=\"display: none; font-size: 10px; color: #4ecdc4;\">--¬∞C</span>\n        </div>\n        <div class=\"monitor-bar\">\n            <div class=\"monitor-fill\" id=\"cpu-bar\"></div>\n        </div>\n        <div class=\"monitor-value\" id=\"cpu-usage\">0%</div>\n    </div>\n    \n    <div class=\"monitor-item\">\n        <div class=\"monitor-label\">Memory</div>\n        <div class=\"monitor-bar\">\n            <div class=\"monitor-fill\" id=\"memory-bar\"></div>\n        </div>\n        <div class=\"monitor-value\" id=\"memory-usage\">0%</div>\n        <div class=\"monitor-info\" id=\"memory-info\">0 B / 0 B</div>\n    </div>\n    \n    <div class=\"monitor-item\">\n        <div class=\"monitor-label\">Disk</div>\n        <div class=\"monitor-bar\">\n            <div class=\"monitor-fill\" id=\"disk-bar\"></div>\n        </div>\n        <div class=\"monitor-value\" id=\"disk-usage\">0%</div>\n        <div class=\"monitor-info\" id=\"disk-info\">0 B / 0 B</div>\n    </div>\n</div>",
  "css": ".system-monitor {\n    background: linear-gradient(135deg, #2d3748, #1a202c);\n    border-radius: 15px;\n    padding: 20px;\n    color: white;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n    min-width: 280px;\n}\n\n.monitor-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n    font-weight: bold;\n    font-size: 16px;\n}\n\n.refresh-btn {\n    background: rgba(255, 255, 255, 0.1);\n    color: white;\n    border: none;\n    border-radius: 50%;\n    width: 24px;\n    height: 24px;\n    cursor: pointer;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background 0.2s;\n}\n\n.refresh-btn:hover {\n    background: rgba(255, 255, 255, 0.2);\n}\n\n.monitor-item {\n    margin-bottom: 20px;\n}\n\n.monitor-label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n\n.monitor-bar {\n    width: 100%;\n    height: 12px;\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 6px;\n    overflow: hidden;\n    margin-bottom: 6px;\n}\n\n.monitor-fill {\n    height: 100%;\n    background: linear-gradient(90deg, #4ecdc4, #44a08d);\n    width: 0%;\n    transition: width 0.5s ease, background 0.3s ease;\n    border-radius: 6px;\n}\n\n.monitor-value {\n    text-align: right;\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 4px;\n}\n\n.monitor-info {\n    text-align: right;\n    font-size: 11px;\n    color: rgba(255, 255, 255, 0.7);\n}\n\n/* Color variations based on usage */\n.monitor-fill.warning {\n    background: linear-gradient(90deg, #f7b731, #f5af19);\n}\n\n.monitor-fill.danger {\n    background: linear-gradient(90deg, #ff6b6b, #ee5a24);\n}",
  "js": "// System Monitor Widget with real system data\nlet systemInterval;\n\n// Format bytes to human readable format\nfunction formatBytes(bytes) {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n}\n\n// Update system display with real data\nfunction updateSystemDisplay(data) {\n    // Update CPU\n    document.getElementById('cpu-usage').textContent = Math.round(data.cpuUsage) + '%';\n    document.getElementById('cpu-bar').style.width = data.cpuUsage + '%';\n    \n    // Update CPU color based on usage\n    const cpuBar = document.getElementById('cpu-bar');\n    if (data.cpuUsage < 50) {\n        cpuBar.style.background = 'linear-gradient(90deg, #4ecdc4, #44a08d)';\n    } else if (data.cpuUsage < 80) {\n        cpuBar.style.background = 'linear-gradient(90deg, #f7b731, #f5af19)';\n    } else {\n        cpuBar.style.background = 'linear-gradient(90deg, #ff6b6b, #ee5a24)';\n    }\n    \n    // Update Memory\n    document.getElementById('memory-usage').textContent = Math.round(data.memoryUsage) + '%';\n    document.getElementById('memory-bar').style.width = data.memoryUsage + '%';\n    document.getElementById('memory-info').textContent = \n        formatBytes(data.memoryUsed) + ' / ' + formatBytes(data.memoryTotal);\n    \n    // Update Memory color based on usage\n    const memoryBar = document.getElementById('memory-bar');\n    if (data.memoryUsage < 50) {\n        memoryBar.style.background = 'linear-gradient(90deg, #4ecdc4, #44a08d)';\n    } else if (data.memoryUsage < 80) {\n        memoryBar.style.background = 'linear-gradient(90deg, #f7b731, #f5af19)';\n    } else {\n        memoryBar.style.background = 'linear-gradient(90deg, #ff6b6b, #ee5a24)';\n    }\n    \n    // Update Disk\n    document.getElementById('disk-usage').textContent = Math.round(data.diskUsage) + '%';\n    document.getElementById('disk-bar').style.width = data.diskUsage + '%';\n    document.getElementById('disk-info').textContent = \n        formatBytes(data.diskUsed) + ' / ' + formatBytes(data.diskTotal);\n    \n    // Update Disk color based on usage\n    const diskBar = document.getElementById('disk-bar');\n    if (data.diskUsage < 50) {\n        diskBar.style.background = 'linear-gradient(90deg, #4ecdc4, #44a08d)';\n    } else if (data.diskUsage < 80) {\n        diskBar.style.background = 'linear-gradient(90deg, #f7b731, #f5af19)';\n    } else {\n        diskBar.style.background = 'linear-gradient(90deg, #ff6b6b, #ee5a24)';\n    }\n    \n    // Update CPU Temperature if available\n    if (data.cpuTemperature !== null && data.cpuTemperature !== undefined) {\n        document.getElementById('cpu-temp').textContent = Math.round(data.cpuTemperature) + '¬∞C';\n        document.getElementById('cpu-temp').style.display = 'block';\n        \n        // Color based on temperature\n        const tempElement = document.getElementById('cpu-temp');\n        if (data.cpuTemperature < 60) {\n            tempElement.style.color = '#4ecdc4';\n        } else if (data.cpuTemperature < 80) {\n            tempElement.style.color = '#f7b731';\n        } else {\n            tempElement.style.color = '#ff6b6b';\n        }\n    } else {\n        document.getElementById('cpu-temp').style.display = 'none';\n    }\n}\n\n// Show error when system data is unavailable\nfunction showSystemError() {\n    document.getElementById('cpu-usage').textContent = '--%';\n    document.getElementById('memory-usage').textContent = '--%';\n    document.getElementById('disk-usage').textContent = '--%';\n    document.getElementById('memory-info').textContent = 'Data unavailable';\n    document.getElementById('disk-info').textContent = 'Data unavailable';\n    document.getElementById('cpu-temp').style.display = 'none';\n    \n    // Set error colors\n    document.getElementById('cpu-bar').style.background = '#666';\n    document.getElementById('memory-bar').style.background = '#666';\n    document.getElementById('disk-bar').style.background = '#666';\n}\n\n// Fetch real system data from Tauri backend\nasync function fetchSystemData() {\n    try {\n        // Check if Tauri API is available\n        if (typeof window.__TAURI__ === 'undefined') {\n            // Fallback to mock data for development\n            updateSystemDisplay({\n                cpuUsage: Math.random() * 100,\n                memoryUsage: Math.random() * 100,\n                memoryTotal: 16777216000,\n                memoryUsed: Math.random() * 16777216000,\n                diskUsage: Math.random() * 100,\n                diskTotal: 500000000000,\n                diskUsed: Math.random() * 500000000000,\n                cpuTemperature: 45 + Math.random() * 30\n            });\n            return;\n        }\n        \n        const { invoke } = window.__TAURI__.core;\n        const systemData = await invoke('get_system_info');\n        updateSystemDisplay(systemData);\n    } catch (error) {\n        console.error('Failed to fetch system data:', error);\n        showSystemError();\n    }\n}\n\nfunction refreshSystem() {\n    fetchSystemData();\n}\n\n// Initialize system monitor\nfunction initSystemMonitor() {\n    fetchSystemData();\n    // Update every 2 seconds\n    systemInterval = setInterval(fetchSystemData, 2000);\n}\n\n// Start the system monitor\ninitSystemMonitor();",
  "width": 280,
  "height": 220,
  "opacity": 95,
  "alwaysOnTop": true,
  "transparent": true,
  "x": 400,
  "y": 100,
  "autoStart": false
}
